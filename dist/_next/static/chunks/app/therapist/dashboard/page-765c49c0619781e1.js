(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{617:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var a=t(5155),i=t(2115),l=t(5695),n=t(6052),r=t(3861),c=t(5742),d=t(4416),o=t(7930),x=t(4516),m=t(7580),h=t(3786),g=t(381),b=t(2713),u=t(9074),j=t(9785),p=t(1539),N=t(4186),v=t(7434),f=t(1586),w=t(4616),y=t(3052),k=t(1788),A=t(9037),C=t(5525),S=t(9114),D=t(8274),B=t(9153),P=t(1007),R=t(8564),T=t(9420),M=t(1366),E=t(1243),z=t(646),I=t(4861),_=t(7168);let O=(0,t(5028).default)(()=>t.e(51).then(t.bind(t,4051)),{loadableGenerated:{webpack:()=>[4051]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Loading Route..."})]})})});function F(e){let{isOpen:s,onClose:t,onAccept:n,onDecline:r,onMessage:m,onCall:h,booking:g}=e;(0,l.useRouter)();let[b,p]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!0),[w,y]=(0,i.useState)({lat:-26.1076,lng:28.0567}),[k,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{y({lat:e.coords.latitude,lng:e.coords.longitude})},e=>{console.log("Geolocation error:",e),y({lat:-26.1076,lng:28.0567})})},[s]);let F=async()=>{if(g){A(!0);try{await new Promise(e=>setTimeout(e,2e3)),n(g.id)}finally{A(!1)}}},G=async()=>{if(g){A(!0);try{await new Promise(e=>setTimeout(e,1500)),r(g.id)}finally{A(!1)}}},J=e=>"R".concat(e.toLocaleString());return g?(0,a.jsx)(S.N,{children:s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:t}),(0,a.jsxs)(D.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-2xl max-h-[90vh] overflow-hidden bg-[#1a2a3a] rounded-2xl shadow-2xl border border-[#2d3e50] flex flex-col",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"New Booking Request"}),(0,a.jsxs)("p",{className:"text-green-100 text-sm mt-1",children:[g.date.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",g.date.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]})]})]}),(0,a.jsx)(_.$,{variant:"ghost",size:"icon",onClick:t,className:"h-10 w-10 rounded-full hover:bg-white/20 text-white",children:(0,a.jsx)(d.A,{size:20})})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[v&&(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl overflow-hidden border border-[#3a506b]",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-[#3a506b]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,a.jsx)(B.A,{className:"w-5 h-5"}),(0,a.jsx)("h3",{className:"font-semibold",children:"Route to Client"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[g.distance," km • ",g.estimatedTravelTime," min drive"]})]}),(0,a.jsx)("div",{className:"h-48",children:(0,a.jsx)(O,{origin:w,destination:g.coordinates,height:"100%"})})]}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-5 h-5 text-green-400"}),"Client Information"]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:g.client.name.split(" ").map(e=>e[0]).join("")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-bold text-white text-lg",children:g.client.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-yellow-900/50 px-2 py-1 rounded-full",children:[(0,a.jsx)(R.A,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),(0,a.jsxs)("span",{className:"text-yellow-400 text-xs font-medium",children:[g.client.rating," (",g.client.reviews," reviews)"]})]})]}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Member since ",g.client.joinDate.getFullYear()]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsxs)(_.$,{variant:"outline",size:"sm",onClick:()=>h(g.client.phone),className:"flex items-center gap-2 bg-[#3a506b] border-[#4a6180] text-white hover:bg-[#4a6180]",children:[(0,a.jsx)(T.A,{className:"w-4 h-4"}),"Call"]}),(0,a.jsxs)(_.$,{variant:"outline",size:"sm",onClick:()=>m(g.client.id),className:"flex items-center gap-2 bg-[#3a506b] border-[#4a6180] text-white hover:bg-[#4a6180]",children:[(0,a.jsx)(M.A,{className:"w-4 h-4"}),"Message"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-blue-400"}),"Booking Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-green-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Duration"}),(0,a.jsx)("p",{className:"text-white font-medium",children:(e=>{let s=Math.floor(e/60),t=e%60;return s>0?"".concat(s,"h ").concat(t,"m"):"".concat(t,"m")})(g.duration)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"w-4 h-4 text-yellow-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Service Price"}),(0,a.jsx)("p",{className:"text-white font-medium",children:J(g.price)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Location"}),(0,a.jsx)("p",{className:"text-white font-medium",children:g.location})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-purple-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Distance"}),(0,a.jsxs)("p",{className:"text-white font-medium",children:[g.distance," km"]})]})]})]})]}),g.specialRequests&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-yellow-900/20 border border-yellow-700/50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(E.A,{className:"w-4 h-4 text-yellow-400"}),(0,a.jsx)("h4",{className:"font-semibold text-yellow-400 text-sm",children:"Special Requests"})]}),(0,a.jsx)("p",{className:"text-yellow-300 text-sm",children:g.specialRequests})]})]}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsx)("h3",{className:"font-semibold text-white mb-3",children:"Pricing Breakdown"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Service Fee"}),(0,a.jsx)("span",{className:"text-white",children:J(g.price)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Platform Fee"}),(0,a.jsx)("span",{className:"text-white",children:J(g.serviceFee)})]}),(0,a.jsxs)("div",{className:"border-t border-[#3a506b] pt-2 flex justify-between font-semibold",children:[(0,a.jsx)("span",{className:"text-white",children:"You'll Receive"}),(0,a.jsx)("span",{className:"text-green-400",children:J(g.totalAmount)})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl border border-[#3a506b] overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>p(!b),className:"w-full p-4 text-left flex items-center justify-between hover:bg-[#3a506b] transition-colors",children:[(0,a.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"w-5 h-5 text-green-400"}),"Additional Information"]}),(0,a.jsx)(D.P.div,{animate:{rotate:180*!!b},transition:{duration:.2},children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-gray-400"})})]}),(0,a.jsx)(S.N,{children:b&&(0,a.jsx)(D.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"p-4 border-t border-[#3a506b] space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-white text-sm mb-1",children:"Full Address"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:g.address})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-white text-sm mb-1",children:"Therapist Notes"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:g.therapistNotes||"No additional notes provided."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"This client has completed 5+ sessions on MassageMe"})]})]})})})]})]})}),(0,a.jsxs)("div",{className:"flex-shrink-0 p-6 border-t border-[#2d3e50] bg-[#1a2a3a]",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(_.$,{variant:"outline",onClick:G,disabled:k,className:"flex-1 h-12 border-red-500 text-red-500 hover:bg-red-500 hover:text-white disabled:opacity-50",children:k?(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.A,{className:"w-5 h-5 mr-2"}),"Decline"]})}),(0,a.jsx)(_.$,{onClick:F,disabled:k,className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white font-semibold disabled:opacity-50",children:k?(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.A,{className:"w-5 h-5 mr-2"}),"Accept Booking"]})})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,a.jsxs)(_.$,{variant:"outline",size:"sm",onClick:()=>f(!v),className:"flex-1 text-xs h-8 bg-[#2d3e50] border-[#3a506b] text-gray-300 hover:bg-[#3a506b]",children:[(0,a.jsx)(B.A,{className:"w-3 h-3 mr-1"}),v?"Hide":"Show"," Route"]}),(0,a.jsxs)(_.$,{variant:"outline",size:"sm",onClick:()=>m(g.client.id),className:"flex-1 text-xs h-8 bg-[#2d3e50] border-[#3a506b] text-gray-300 hover:bg-[#3a506b]",children:[(0,a.jsx)(M.A,{className:"w-3 h-3 mr-1"}),"Ask Questions"]})]})]})]})]})}):null}function G(){let{user:e}=(0,n.A)(),s=(0,l.useRouter)(),[t,B]=(0,i.useState)("overview"),[P,R]=(0,i.useState)([]),[T,M]=(0,i.useState)(!1),[E,z]=(0,i.useState)(null),[I,_]=(0,i.useState)([]),[O,G]=(0,i.useState)(!1),[J,L]=(0,i.useState)(null),[$,q]=(0,i.useState)({totalEarnings:0,completedSessions:0,averageRating:4.8,responseRate:95,monthlyGrowth:12,nextPayout:3200}),[U,H]=(0,i.useState)(!1),[V,Y]=(0,i.useState)(null),[Q,W]=(0,i.useState)(!1),X=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=[{id:"1",clientName:"John Smith",clientImage:"/client1.jpg",service:"Deep Tissue Massage",duration:60,price:450,date:new Date(Date.now()+72e5),status:"confirmed",location:"Client's Home - 2.3km away"},{id:"2",clientName:"Sarah Wilson",clientImage:"/client2.jpg",service:"Swedish Massage",duration:90,price:600,date:new Date(Date.now()+144e5),status:"confirmed",location:"My Studio"}],s=[{id:"3",clientName:"Mike Johnson",clientImage:"/client3.jpg",service:"Sports Massage",duration:60,price:500,date:new Date(Date.now()+864e5),status:"confirmed",location:"Client's Home - 5.1km away"},{id:"4",clientName:"Emma Davis",clientImage:"/client4.jpg",service:"Aromatherapy",duration:90,price:650,date:new Date(Date.now()+1728e5),status:"pending",location:"My Studio"}];R(e),_(s),q({totalEarnings:12500,completedSessions:42,averageRating:4.8,responseRate:95,monthlyGrowth:12,nextPayout:3200})},[]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{Y({id:Date.now().toString(),title:"New Booking Request! \uD83C\uDF89",message:"Sarah Johnson booked a 60min Deep Tissue Massage for tomorrow at 2:00 PM",type:"booking",bookingId:"new-"+Date.now(),timestamp:new Date}),H(!0),K(),setTimeout(()=>{H(!1)},5e3)},3e3);return()=>clearTimeout(e)},[]);let K=()=>{X.current||(X.current=new Audio,X.current.src="/assets/new.mp3",X.current.volume=.4),Q||(X.current.play().catch(()=>{let e=new(window.AudioContext||window.webkitAudioContext),s=e.createOscillator(),t=e.createGain();s.connect(t),t.connect(e.destination),s.frequency.value=440,s.type="sine",t.gain.value=.1,s.start(),t.gain.exponentialRampToValueAtTime(.001,e.currentTime+2),s.stop(e.currentTime+2),W(!0)}),W(!0))},Z=(e,s)=>{console.log("Booking ".concat(e,": ").concat(s)),"start"===s&&(L(e),G(!0))},ee=e=>{s.push("/therapist/booking/".concat(e))},es=e=>{s.push("/therapist/inbox")},et=e=>{switch(e){case"confirmed":return"bg-green-900 text-green-300";case"pending":return"bg-yellow-900 text-yellow-300";case"completed":return"bg-blue-900 text-blue-300";case"cancelled":return"bg-red-900 text-red-300";default:return"bg-[#3a506b] text-gray-300"}},ea=e=>e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),ei=e=>"R".concat(e.toLocaleString());return(0,a.jsxs)("div",{className:"min-h-screen bg-[#1a2a3a] text-white pb-20",children:[(0,a.jsx)(S.N,{children:U&&V&&(0,a.jsx)(D.P.div,{initial:{opacity:0,y:-100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-100,scale:.8},className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-11/12 max-w-md",children:(0,a.jsx)("div",{className:"bg-[#2d3e50] rounded-2xl shadow-2xl border border-[#71CBD1] p-4 cursor-pointer hover:bg-[#3a506b] transition-colors",onClick:()=>{(null==V?void 0:V.bookingId)&&(z({id:V.bookingId,client:{id:"client-123",name:"Sarah Johnson",image:"/client1.jpg",rating:4.9,reviews:27,phone:"+27 12 345 6789",email:"sarah.johnson@example.com",joinDate:new Date(2023,0,15)},service:"Deep Tissue Massage",duration:60,price:450,date:new Date(Date.now()+864e5),location:"Client's Home",address:"123 Main Street, Johannesburg, 2000",coordinates:{lat:-26.1076,lng:28.0567},specialRequests:"Please bring extra towels and focus on lower back tension",therapistNotes:"Regular client, prefers firm pressure",distance:3.2,estimatedTravelTime:15,serviceFee:45,totalAmount:405}),M(!0)),H(!1)},children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#71CBD1] rounded-full flex items-center justify-center",children:(0,a.jsx)(r.A,{className:"w-6 h-6 text-[#1a2a3a]"})}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-green-500 rounded-full w-6 h-6 flex items-center justify-center",children:(0,a.jsx)(c.A,{className:"w-3 h-3 text-white"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-white",children:V.title}),(0,a.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:V.message}),(0,a.jsx)("p",{className:"text-xs text-[#71CBD1] mt-1",children:V.timestamp.toLocaleTimeString()})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),H(!1)},className:"text-gray-400 hover:text-white transition-colors",children:(0,a.jsx)(d.A,{size:16})})]})})})}),O&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end justify-center p-4",children:(0,a.jsx)(D.P.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},className:"bg-white rounded-3xl w-full max-w-md shadow-2xl border border-gray-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(c.A,{className:"w-8 h-8 text-green-600"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Start Session"}),(0,a.jsx)("p",{className:"text-gray-600",children:"How would you like to get to your client?"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>{G(!1);let e=P.find(e=>e.id===J);e&&(sessionStorage.setItem("currentSession",JSON.stringify({...e,status:"in-progress",startTime:new Date,estimatedArrival:new Date(Date.now()+18e5)})),s.push("/therapist/navigation"))},className:"w-full p-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl flex items-center justify-between hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Drive Yourself"}),(0,a.jsx)("div",{className:"text-sm text-white/80",children:"Use built-in navigation"})]})]}),(0,a.jsx)(x.A,{className:"w-5 h-5"})]}),(0,a.jsxs)("button",{onClick:()=>{G(!1);let e=P.find(e=>e.id===J);if(e){let s=encodeURIComponent(e.location),t={lat:-26.1076,lng:28.0567},a="uber://?action=setPickup&pickup[latitude]=".concat(t.lat,"&pickup[longitude]=").concat(t.lng,"&dropoff[formatted_address]=").concat(s);window.location.href=a,setTimeout(()=>{document.hidden||window.open("https://m.uber.com/ul/?action=setPickup&pickup=my_location&dropoff[formatted_address]=".concat(s),"_blank")},500)}},className:"w-full p-4 bg-gradient-to-r from-blue-500 to-sky-600 text-white rounded-2xl flex items-center justify-between hover:from-blue-600 hover:to-sky-700 transition-all duration-200 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Request Ride"}),(0,a.jsx)("div",{className:"text-sm text-white/80",children:"Uber, Bolt, or similar"})]})]}),(0,a.jsx)(h.A,{className:"w-5 h-5"})]})]}),(0,a.jsx)("button",{onClick:()=>G(!1),className:"w-full mt-4 p-3 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})]})})}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] border-b border-[#3a506b] p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl font-bold text-white",children:[(()=>{let e=new Date().getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"})(),", ",(null==e?void 0:e.name)||"Therapist","!"]}),(0,a.jsx)("p",{className:"text-sm text-[#71CBD1]",children:"Ready for your sessions today?"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>s.push("/therapist/notifications"),className:"p-2 rounded-lg bg-[#3a506b] hover:bg-[#4a6180] transition-colors relative",children:[(0,a.jsx)(r.A,{className:"w-5 h-5 text-[#71CBD1]"}),U&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]}),(0,a.jsx)("button",{onClick:()=>s.push("/therapist/settings"),className:"p-2 rounded-lg bg-[#3a506b] hover:bg-[#4a6180] transition-colors",children:(0,a.jsx)(g.A,{className:"w-5 h-5 text-[#71CBD1]"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:P.length}),(0,a.jsx)("div",{className:"text-xs text-gray-300",children:"Today"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-white",children:I.length}),(0,a.jsx)("div",{className:"text-xs text-gray-300",children:"Upcoming"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-400",children:ei($.totalEarnings)}),(0,a.jsx)("div",{className:"text-xs text-gray-300",children:"Earnings"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-yellow-400",children:$.averageRating}),(0,a.jsx)("div",{className:"text-xs text-gray-300",children:"Rating"})]})]})]}),(0,a.jsx)("div",{className:"bg-[#2d3e50] border-b border-[#3a506b]",children:(0,a.jsx)("div",{className:"flex p-4 gap-1",children:[{id:"overview",label:"Overview",icon:b.A},{id:"bookings",label:"Bookings",icon:u.A},{id:"earnings",label:"Earnings",icon:j.A},{id:"clients",label:"Clients",icon:m.A}].map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>B(e.id),className:"flex-1 flex flex-col items-center py-2 rounded-lg transition-colors ".concat(t===e.id?"bg-[#71CBD1] text-[#1a2a3a]":"text-gray-400 hover:text-white"),children:[(0,a.jsx)(s,{className:"w-4 h-4 mb-1"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.id)})})}),(0,a.jsxs)("div",{className:"p-4",children:["overview"===t&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(p.A,{className:"w-5 h-5 text-yellow-400"}),(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Today's Priority"})]}),P.length>0?(0,a.jsx)("div",{className:"space-y-3",children:P.map(e=>(0,a.jsxs)("div",{className:"bg-[#3a506b] rounded-lg p-3 border border-[#4a6180]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-[#2d3e50] rounded-full flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-5 h-5 text-[#71CBD1]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-white",children:e.clientName}),(0,a.jsx)("p",{className:"text-xs text-gray-300",children:e.service})]})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(et(e.status)),children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-300",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-[#71CBD1]"}),(0,a.jsx)("span",{children:ea(e.date)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-300",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-[#71CBD1]"}),(0,a.jsx)("span",{className:"text-xs",children:e.location})]}),(0,a.jsx)("span",{className:"font-semibold text-white",children:ei(e.price)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>es(e.clientName),className:"flex-1 border border-[#71CBD1] text-[#71CBD1] py-2 rounded-lg text-sm hover:bg-[#71CBD1] hover:text-[#1a2a3a] transition-colors",children:"Message"}),(0,a.jsx)("button",{onClick:()=>Z(e.id,"start"),className:"flex-1 bg-[#71CBD1] text-[#1a2a3a] py-2 rounded-lg text-sm font-semibold hover:bg-[#5bb5c1] transition-colors",children:"Start Session"})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-gray-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No bookings scheduled for today"}),(0,a.jsx)("button",{onClick:()=>s.push("/therapist/availability"),className:"mt-2 text-[#71CBD1] text-sm hover:underline",children:"Set your availability"})]})]}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>s.push("/therapist/availability"),className:"bg-[#3a506b] rounded-lg p-3 text-center hover:bg-[#4a6180] transition-colors border border-[#4a6180]",children:[(0,a.jsx)(u.A,{className:"w-6 h-6 text-[#71CBD1] mx-auto mb-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white block",children:"Availability"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Set schedule"})]}),(0,a.jsxs)("button",{onClick:()=>s.push("/therapist/services"),className:"bg-[#3a506b] rounded-lg p-3 text-center hover:bg-[#4a6180] transition-colors border border-[#4a6180]",children:[(0,a.jsx)(v.A,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white block",children:"Services"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Manage offers"})]}),(0,a.jsxs)("button",{onClick:()=>s.push("/therapist/earnings"),className:"bg-[#3a506b] rounded-lg p-3 text-center hover:bg-[#4a6180] transition-colors border border-[#4a6180]",children:[(0,a.jsx)(f.A,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white block",children:"Earnings"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"View income"})]}),(0,a.jsxs)("button",{onClick:()=>s.push("/therapist/clients"),className:"bg-[#3a506b] rounded-lg p-3 text-center hover:bg-[#4a6180] transition-colors border border-[#4a6180]",children:[(0,a.jsx)(m.A,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white block",children:"Clients"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Manage clients"})]})]})]}),(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Performance"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Response Rate"}),(0,a.jsxs)("span",{className:"text-white font-semibold",children:[$.responseRate,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Monthly Growth"}),(0,a.jsxs)("span",{className:"text-green-400 font-semibold",children:["+",$.monthlyGrowth,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-300",children:"Next Payout"}),(0,a.jsx)("span",{className:"text-yellow-400 font-semibold",children:ei($.nextPayout)})]})]})]})]}),"bookings"===t&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"Upcoming Bookings"}),(0,a.jsxs)("button",{className:"bg-[#71CBD1] text-[#1a2a3a] px-3 py-1 rounded-lg text-sm font-semibold hover:bg-[#5bb5c1] transition-colors",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 inline mr-1"}),"New"]})]}),I.length>0?(0,a.jsx)("div",{className:"space-y-3",children:I.map(e=>(0,a.jsxs)("div",{onClick:()=>ee(e.id),className:"bg-[#3a506b] rounded-lg p-3 border border-[#4a6180] cursor-pointer hover:bg-[#445979] transition-colors",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-[#2d3e50] rounded-full flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-5 h-5 text-[#71CBD1]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-white",children:e.clientName}),(0,a.jsx)("p",{className:"text-xs text-gray-300",children:e.service})]})]}),(0,a.jsx)(y.A,{className:"w-4 h-4 text-gray-400"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-300",children:[(0,a.jsx)(N.A,{className:"w-4 h-4 text-[#71CBD1]"}),(0,a.jsxs)("span",{children:[e.date.toLocaleDateString()," • ",ea(e.date)]})]}),(0,a.jsx)("span",{className:"font-semibold text-white",children:ei(e.price)})]}),"pending"===e.status&&(0,a.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),Z(e.id,"decline")},className:"flex-1 border border-red-500 text-red-400 py-2 rounded-lg text-sm hover:bg-red-500 hover:text-white transition-colors",children:"Decline"}),(0,a.jsx)("button",{onClick:s=>{s.stopPropagation(),Z(e.id,"accept")},className:"flex-1 bg-[#71CBD1] text-[#1a2a3a] py-2 rounded-lg text-sm font-semibold hover:bg-[#5bb5c1] transition-colors",children:"Accept"})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-gray-500 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No upcoming bookings"})]})]})}),"earnings"===t&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Earnings Overview"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:"This Month"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:ei($.totalEarnings)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-green-400 text-sm",children:["+",$.monthlyGrowth,"% from last month"]}),(0,a.jsxs)("p",{className:"text-gray-400 text-xs",children:["Next payout: ",ei($.nextPayout)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"bg-[#3a506b] rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-white font-semibold",children:$.completedSessions}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Sessions"})]}),(0,a.jsxs)("div",{className:"bg-[#3a506b] rounded-lg p-3 text-center",children:[(0,a.jsxs)("p",{className:"text-white font-semibold",children:["R",($.totalEarnings/$.completedSessions).toFixed(0)]}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Avg/Session"})]}),(0,a.jsxs)("div",{className:"bg-[#3a506b] rounded-lg p-3 text-center",children:[(0,a.jsx)("p",{className:"text-white font-semibold",children:"95%"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"On-time"})]})]}),(0,a.jsxs)("button",{className:"w-full bg-[#71CBD1] text-[#1a2a3a] py-3 rounded-lg font-semibold hover:bg-[#5bb5c1] transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),"Download Earnings Report"]})]})]})}),"clients"===t&&(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"bg-[#2d3e50] rounded-xl p-4 border border-[#3a506b]",children:[(0,a.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Client Management"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-[#3a506b] rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-[#2d3e50] rounded-full flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-[#71CBD1]"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-white",children:"42 Active Clients"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Manage your client relationships"})]})]}),(0,a.jsx)(A.A,{className:"w-6 h-6 text-yellow-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[(0,a.jsx)("button",{className:"bg-[#2d3e50] text-[#71CBD1] py-2 rounded-lg text-sm hover:bg-[#71CBD1] hover:text-[#1a2a3a] transition-colors",children:"View All"}),(0,a.jsx)("button",{className:"bg-[#71CBD1] text-[#1a2a3a] py-2 rounded-lg text-sm font-semibold hover:bg-[#5bb5c1] transition-colors",children:"Add Notes"})]})]}),(0,a.jsx)("div",{className:"bg-[#3a506b] rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(C.A,{className:"w-6 h-6 text-green-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-white",children:"Verified Therapist"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Your profile is 95% complete"})]})]})})]})]})})]}),(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#2d3e50] border-t border-[#3a506b] p-3",children:(0,a.jsx)("div",{className:"flex justify-around items-center",children:[{id:"overview",label:"Overview",icon:b.A},{id:"bookings",label:"Bookings",icon:u.A},{id:"earnings",label:"Earnings",icon:j.A},{id:"clients",label:"Clients",icon:m.A},{id:"profile",label:"Profile",icon:g.A}].map(e=>{let i=e.icon;return(0,a.jsxs)("button",{onClick:()=>"profile"===e.id?s.push("/therapist/profile"):B(e.id),className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ".concat(t===e.id?"text-[#71CBD1]":"text-gray-400 hover:text-white"),children:[(0,a.jsx)(i,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-xs",children:e.label})]},e.id)})})}),(0,a.jsx)(F,{isOpen:T,onClose:()=>M(!1),onAccept:e=>{console.log("Accepted booking:",e),M(!1)},onDecline:e=>{console.log("Declined booking:",e),M(!1)},onMessage:e=>{s.push("/therapist/inbox?client=".concat(e))},onCall:e=>{window.open("tel:".concat(e),"_blank")},booking:E})]})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(2596),i=t(9688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,a.$)(s))}},6052:(e,s,t)=>{"use strict";t.d(s,{A:()=>r,AuthProvider:()=>n});var a=t(5155),i=t(2115);let l=(0,i.createContext)(void 0);function n(e){let{children:s}=e,[t,n]=(0,i.useState)(null),[r,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=localStorage.getItem("dam-safe-user");e&&n(JSON.parse(e)),c(!1)},[]);let d=async(e,s)=>{await new Promise(e=>setTimeout(e,1e3));let t={id:"1",email:e,name:e.split("@")[0],userType:"client"};n(t),localStorage.setItem("dam-safe-user",JSON.stringify(t))},o=async(e,s,t,a)=>{await new Promise(e=>setTimeout(e,1e3));let i={id:"1",email:e,name:t,phone:a,userType:"client"};n(i),localStorage.setItem("dam-safe-user",JSON.stringify(i))};return(0,a.jsx)(l.Provider,{value:{user:t,isLoading:r,signIn:d,signUp:o,signOut:()=>{n(null),localStorage.removeItem("dam-safe-user")}},children:s})}function r(){let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6153:(e,s,t)=>{Promise.resolve().then(t.bind(t,617))},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var a=t(5155);t(2115);var i=t(9708),l=t(2085),n=t(3999);let r=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:l,asChild:c=!1,...d}=e,o=c?i.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,n.cn)(r({variant:t,size:l,className:s})),...d})}}},e=>{var s=s=>e(e.s=s);e.O(0,[160,274,456,839,441,684,358],()=>s(6153)),_N_E=e.O()}]);