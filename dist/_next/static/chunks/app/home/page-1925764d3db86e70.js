(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{2900:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var t=s(5155),r=s(9137),i=s.n(r),n=s(2115),l=s(5695),d=s(6052),o=s(5526),c=s(7168),x=s(1976),b=s(7580),m=s(7576),h=s(1007),f=s(7809),g=s(4416),j=s(4186);let p=[{id:"swedish",name:"Swedish Massage",type:"swedish",duration:60,price:350,description:"Relaxing full-body massage with long, flowing strokes",category:"relaxation"},{id:"deep-tissue",name:"Deep Tissue",type:"deep-tissue",duration:60,price:450,description:"Targeted pressure for chronic pain and muscle tension",category:"therapeutic"},{id:"sports-massage",name:"Sports Massage",type:"sports",duration:60,price:500,description:"Enhances athletic performance and aids recovery",category:"therapeutic"},{id:"prenatal",name:"Prenatal Massage",type:"prenatal",duration:50,price:400,description:"Specialized massage for expecting mothers",category:"specialized"},{id:"couples",name:"Couples Massage",type:"couples",duration:90,price:700,description:"Side-by-side massage experience for two people",category:"relaxation"},{id:"aromatherapy",name:"Aromatherapy",type:"aromatherapy",duration:60,price:420,description:"Combines massage with essential oils for enhanced relaxation",category:"relaxation"},{id:"reflexology",name:"Reflexology",type:"reflexology",duration:45,price:300,description:"Foot massage targeting pressure points for whole-body benefits",category:"therapeutic"}],u=[{id:"1",name:"Sarah Johnson",address:"Sandton, Johannesburg",rating:4.9,reviews:127,specialty:"Deep Tissue & Sports Therapy",experience:8,gender:"female",location:{lat:-26.1076,lng:28.0567},services:[p[0],p[1],p[2],p[5]],image:"/therapists/sarah-johnson.jpg",verification:"verified",languages:["English","Zulu"],description:"Certified therapeutic massage specialist with 8 years of experience helping clients recover from injuries and manage chronic pain.",responseTime:15,price:550,distance:15,availability:"Available Today"},{id:"2",address:"Rivonia, Johannesburg",name:"James Mbeki",rating:4.7,reviews:89,specialty:"Swedish & Relaxation Therapy",experience:5,gender:"male",location:{lat:-26.1076,lng:28.0567},services:[p[0],p[4],p[5],p[6]],image:"/therapists/james-mbeki.jpg",verification:"verified",languages:["English","Xhosa","Zulu"],description:"Focused on creating peaceful, relaxing experiences to help clients unwind from daily stress.",responseTime:10,price:650,distance:37,availability:"Available Today"},{id:"3",address:"Rosebank, Johannesburg",name:"Priya Singh",rating:4.8,reviews:203,specialty:"Prenatal & Wellness Massage",experience:10,gender:"female",location:{lat:-26.1352,lng:28.033},services:[p[0],p[3],p[5],p[6]],image:"/therapists/priya-singh.jpg",verification:"verified",languages:["English","Hindi"],description:"Specialized in prenatal and women's wellness with a gentle, nurturing approach.",responseTime:25,price:980,distance:.5,availability:"Available Today"},{id:"4",name:"David van Niekerk",address:"Parktown, Johannesburg",rating:4.6,reviews:67,specialty:"Sports & Deep Tissue",experience:6,gender:"male",location:{lat:-26.1634,lng:28.0262},services:[p[1],p[2],p[6]],image:"/therapists/david-vanniekerk.jpg",verification:"pending",languages:["English","Afrikaans"],description:"Former athlete turned massage therapist, specializing in sports recovery and performance enhancement.",responseTime:20,price:850,distance:1.2,availability:"Available Tomorrow"},{id:"5",name:"Lerato Ndlovu",address:"Soweto, Johannesburg",rating:4.9,reviews:156,specialty:"Traditional & Modern Techniques",experience:7,gender:"female",location:{lat:-26.1864,lng:28.0126},services:[p[0],p[1],p[5],p[6]],image:"/therapists/lerato-ndlovu.jpg",verification:"verified",languages:["English","Zulu","Sotho"],description:"Blending traditional African massage techniques with modern therapeutic approaches.",responseTime:5,price:650,distance:3,availability:"Available Tomorrow"}];var v=s(8181),y=s(8564),N=s(9114),w=s(8274);function k(e){let{therapist:a,service:s,isOpen:r,onClose:i,onConfirm:n}=e;return(0,t.jsx)(N.N,{children:r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:i}),(0,t.jsxs)(w.P.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl z-50 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,t.jsx)("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),(0,t.jsx)("div",{className:"px-6 pb-4 border-b",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Confirm Booking"}),(0,t.jsx)(c.$,{variant:"ghost",size:"icon",onClick:i,className:"h-8 w-8",children:(0,t.jsx)(g.A,{size:18})})]})}),(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("img",{src:a.image,alt:a.name,className:"w-16 h-16 rounded-full object-cover border-2 border-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:a.name}),(0,t.jsx)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.A,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{children:a.rating}),(0,t.jsxs)("span",{children:["(",a.reviews," reviews)"]})]})}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.specialty})]})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-gray-50",children:[(0,t.jsx)("h4",{className:"font-semibold mb-3",children:"Service Details"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Service"}),(0,t.jsx)("span",{className:"font-medium",children:s.name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Duration"}),(0,t.jsxs)("span",{className:"font-medium",children:[s.duration," minutes"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Price"}),(0,t.jsxs)("span",{className:"font-medium",children:["R",s.price]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{children:["R",s.price]})]})]})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(c.$,{onClick:n,className:"w-full bg-[#10B981] hover:bg-[#0da271] text-white font-semibold py-3 text-lg rounded-xl",size:"lg",children:"Add to Cart"})})]})]})})}let S=(0,s(5028).default)(()=>s.e(207).then(s.bind(s,1207)),{loadableGenerated:{webpack:()=>[1207]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"w-full h-full bg-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Loading Map..."})]})})});function C(){var e;let{user:a}=(0,d.A)(),s=(0,l.useRouter)(),[r,p]=(0,n.useState)(""),[y,N]=(0,n.useState)(null),[w,C]=(0,n.useState)({lat:-26.1076,lng:28.0567}),[T,P]=(0,n.useState)(null),[A,M]=(0,n.useState)(!1),[z,F]=(0,n.useState)(!1),[E,R]=(0,n.useState)(""),[D,I]=(0,n.useState)(1),[B,J]=(0,n.useState)(2),[$,G]=(0,n.useState)("shared"),[L,O]=(0,n.useState)(!1),[_,H]=(0,n.useState)(0),[W,Y]=(0,n.useState)(0),[Z,q]=(0,n.useState)(!1),[X,Q]=(0,n.useState)([]),[V,K]=(0,n.useState)(!1),[U,ee]=(0,n.useState)({type:"all",serviceType:"all",maxPrice:1e3,rating:0,genderPreference:"any",availableNow:!1}),ea=[{id:"couples",name:"Couples Massage",icon:x.A,description:"Perfect for couples",maxParticipants:2},{id:"family",name:"Family Session",icon:b.A,description:"Relax with family",maxParticipants:6},{id:"friends",name:"Friends Group",icon:b.A,description:"Massage with friends",maxParticipants:8},{id:"corporate",name:"Corporate Wellness",icon:m.A,description:"Team building session",maxParticipants:10}],es=[{id:"shared",label:"Share Therapists",description:"Therapists work with multiple people simultaneously",icon:b.A,details:"More cost-effective, social experience"},{id:"individual",label:"Individual Therapists",description:"Each person gets their own dedicated therapist",icon:h.A,details:"Personalized attention, higher cost"}];(0,n.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{C({lat:e.coords.latitude,lng:e.coords.longitude})},e=>{console.log("Geolocation error:",e),C({lat:-26.1076,lng:28.0567})})},[]),(0,n.useEffect)(()=>{"shared"===$?Y(Math.ceil(D/3)):Y(D)},[D,$]),(0,n.useEffect)(()=>{if(L){H(0),q(!1);let e=setInterval(()=>{H(a=>{let s=a+1;return s>=W&&(q(!0),clearInterval(e)),s})},1500);return()=>clearInterval(e)}},[L,W]);let et=(0,n.useMemo)(()=>u.filter(e=>{var a,s,t;let i=e.name.toLowerCase().includes(r.toLowerCase())||e.specialty.toLowerCase().includes(r.toLowerCase())||(null===(a=e.services)||void 0===a?void 0:a.some(e=>e.name.toLowerCase().includes(r.toLowerCase()))),n="all"===U.serviceType||(null===(s=e.services)||void 0===s?void 0:s.some(e=>e.type===U.serviceType)),l=null===(t=e.services)||void 0===t?void 0:t.some(e=>e.price<=U.maxPrice),d=!e.rating||e.rating>=U.rating,o="any"===U.genderPreference||e.gender===U.genderPreference,c=!U.availableNow||e.availability;return i&&n&&l&&d&&o&&c}),[r,U]),er=(()=>{let e=300*D;3===B&&(e*=1.4),"shared"===$&&(e*=.8);let a=.2*e,s=25*W,t=e+a+s,r=.15*t;return{baseTotal:Math.round(e),serviceFee:Math.round(a),bookingFee:Math.round(s),vat:Math.round(r),total:Math.round(t+r),perPerson:Math.round((t+r)/D)}})(),ei=(e,a)=>{let s=a.price,t=.2*s,r=.3*Math.random()+1,i=s*r,n=i+t+15,l=.15*n;return{base:Math.round(s),surged:Math.round(i),serviceFee:Math.round(t),bookingFee:Math.round(15),vat:Math.round(l),total:Math.round(n+l),surgeMultiplier:parseFloat(r.toFixed(1))}},en=(e,a)=>{P(e),N(a),M(!0)},el=(e,a)=>{let s=ei(e,a),t={id:"individual-".concat(e.id,"-").concat(a.id,"-").concat(Date.now()),type:"individual",therapist:e,service:a,total:s.total,name:"".concat(e.name," - ").concat(a.name),description:"".concat(a.duration," min • ").concat(e.specialty)};Q(e=>[...e,t]),M(!1),P(null),N(null)},ed=e=>{R(e.id),I(2)},eo=()=>{let e=ea.find(e=>e.id===E);return(null==e?void 0:e.maxParticipants)||2},ec=e=>{Q(a=>a.filter((a,s)=>s!==e))},ex=X.reduce((e,a)=>e+a.total,0),eb=X.reduce((e,a)=>e+("group"===a.type&&a.participants||1),0);return(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 min-h-screen bg-background pb-20",children:[(0,t.jsx)(v.MobileHeader,{title:"Find Therapists"}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex flex-col h-[calc(100vh-140px)]",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex-1 relative",children:[(0,t.jsx)(S,{center:w,zoom:13,therapists:et,className:"w-full h-full"}),(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 absolute top-4 left-4 bg-white px-3 py-2 rounded-lg shadow-lg border border-gray-200",children:(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-sm font-medium text-gray-900",children:"Your Location"})}),(0,t.jsx)("button",{onClick:()=>{X.length>0?K(!0):F(!0)},className:"jsx-8fd0aa955857bbe3 absolute top-4 right-4 w-14 h-14 bg-green-600 hover:bg-green-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 z-30 hover:scale-105 active:scale-95 border-2 border-white",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 relative",children:[(0,t.jsx)(f.A,{className:"w-6 h-6"}),X.length>0&&(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:X.length})]})})]}),(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 h-48 bg-white border-t border-gray-200",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 p-4",children:[(0,t.jsx)("h3",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900 mb-3",children:"Available Therapists Nearby"}),(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 flex gap-3 overflow-x-auto pb-2",children:u.map(e=>(0,t.jsxs)("div",{onClick:()=>{var a;return en(e,(null===(a=e.services)||void 0===a?void 0:a[0])||null)},className:"jsx-8fd0aa955857bbe3 flex-shrink-0 w-64 bg-gray-50 rounded-lg p-3 border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex items-center gap-3",children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:"jsx-8fd0aa955857bbe3 w-10 h-10 rounded-full object-cover"}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3",children:[(0,t.jsx)("h4",{className:"jsx-8fd0aa955857bbe3 font-medium text-sm text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-xs text-gray-600",children:e.specialty})]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 text-right",children:[(0,t.jsxs)("p",{className:"jsx-8fd0aa955857bbe3 font-bold text-green-600",children:["R",e.price]}),(0,t.jsxs)("p",{className:"jsx-8fd0aa955857bbe3 text-xs text-gray-600",children:[e.distance,"km"]})]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex items-center mt-2",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex text-yellow-400",children:["★".repeat(Math.floor(e.rating||0)),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-300",children:"★".repeat(5-Math.floor(e.rating||0))})]}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-xs text-gray-600 ml-1",children:e.rating||"No ratings"})]})]},e.id))})]})})]}),(0,t.jsx)(o.BottomNav,{}),V&&(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 bg-white rounded-t-2xl w-full max-w-md max-h-[80vh] overflow-y-auto border border-gray-200 shadow-xl",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3",children:[(0,t.jsx)("h2",{className:"jsx-8fd0aa955857bbe3 text-xl font-bold",children:"Your Cart"}),(0,t.jsxs)("p",{className:"jsx-8fd0aa955857bbe3 text-green-100 text-sm mt-1",children:[eb," massage orders"]})]}),(0,t.jsx)("button",{onClick:()=>K(!1),className:"jsx-8fd0aa955857bbe3 p-2 hover:bg-green-500 rounded-full transition-colors",children:(0,t.jsx)(g.A,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 p-6 space-y-4",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 space-y-3 max-h-96 overflow-y-auto",children:X.map((e,a)=>(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex-1",children:[(0,t.jsx)("h4",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-sm text-gray-600",children:e.description}),"group"===e.type&&(0,t.jsxs)("p",{className:"jsx-8fd0aa955857bbe3 text-xs text-green-600 mt-1",children:[e.participants," ",1===e.participants?"person":"people"]})]}),(0,t.jsx)("button",{onClick:()=>ec(a),className:"jsx-8fd0aa955857bbe3 text-red-500 hover:text-red-700 transition-colors ml-2",children:(0,t.jsx)(g.A,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-sm text-gray-600",children:"Total"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 font-bold text-green-600",children:["R",e.total]})]})]},e.id))}),0===X.length&&(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 text-center py-8",children:[(0,t.jsx)(f.A,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-gray-500",children:"Your cart is empty"}),(0,t.jsx)(c.$,{onClick:()=>{K(!1),F(!0)},className:"mt-3 bg-green-600 hover:bg-green-700",children:"Start Group Booking"})]}),X.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 border-t border-gray-200 pt-4",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-center text-lg font-semibold",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-900",children:"Total"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 text-green-600",children:["R",ex]})]})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex gap-3",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>{Q([]),K(!1)},className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Clear Cart"}),(0,t.jsxs)(c.$,{onClick:()=>{0!==X.length&&(sessionStorage.setItem("cartItems",JSON.stringify(X)),K(!1),s.push("/checkout"))},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold",children:["Checkout (R",ex,")"]})]})]})]})]})}),T&&y&&(0,t.jsx)(k,{therapist:T,service:y,isOpen:A,onClose:()=>{M(!1),P(null),N(null)},onConfirm:()=>el(T,y),confirmText:"Add to Cart"}),z&&(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 bg-white rounded-t-2xl w-full max-w-md max-h-[85vh] overflow-y-auto border border-gray-200 shadow-xl",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3",children:[(0,t.jsx)("h2",{className:"jsx-8fd0aa955857bbe3 text-xl font-bold",children:"New Group Session"}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-green-100 text-sm mt-1",children:"Book massage for multiple people"})]}),(0,t.jsx)("button",{onClick:()=>F(!1),className:"jsx-8fd0aa955857bbe3 p-2 hover:bg-green-500 rounded-full transition-colors",children:(0,t.jsx)(g.A,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 space-y-4",children:[(0,t.jsx)("h3",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:"Select Group Type"}),ea.map(e=>{let a=e.icon;return(0,t.jsx)("div",{onClick:()=>ed(e),className:"jsx-8fd0aa955857bbe3 "+"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(E===e.id?"border-green-500 bg-green-50 shadow-sm":"border-gray-200 hover:border-green-300 bg-white"),children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 "+"p-2 rounded-lg ".concat(E===e.id?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"),children:(0,t.jsx)(a,{className:"jsx-8fd0aa955857bbe3 w-5 h-5"})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex-1",children:[(0,t.jsx)("h4",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-sm text-gray-600",children:e.description})]}),E===e.id&&(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 w-2 h-2 bg-white rounded-full"})})]})},e.id)})]}),E&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:"Number of People"}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-lg font-bold text-green-600",children:D})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex items-center justify-between bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>I(e=>Math.max(2,e-1)),disabled:D<=2,className:"jsx-8fd0aa955857bbe3 w-10 h-10 bg-white border border-gray-300 rounded-full flex items-center justify-center disabled:opacity-30 hover:bg-gray-50 transition-colors",children:(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-lg text-gray-700",children:"-"})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 text-center",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 text-2xl font-bold text-gray-900",children:D}),(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 text-sm text-gray-600",children:"Participants"})]}),(0,t.jsx)("button",{onClick:()=>I(e=>Math.min(eo(),e+1)),disabled:D>=eo(),className:"jsx-8fd0aa955857bbe3 w-10 h-10 bg-white border border-gray-300 rounded-full flex items-center justify-center disabled:opacity-30 hover:bg-gray-50 transition-colors",children:(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-lg text-gray-700",children:"+"})})]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 space-y-4",children:[(0,t.jsx)("h3",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:"Session Duration"}),(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 grid grid-cols-2 gap-3",children:[{hours:2,label:"2 hours",description:"Standard group session"},{hours:3,label:"3 hours",description:"Extended relaxation"}].map(e=>(0,t.jsxs)("div",{onClick:()=>J(e.hours),className:"jsx-8fd0aa955857bbe3 "+"p-4 border-2 rounded-lg cursor-pointer transition-all text-center ".concat(B===e.hours?"border-green-500 bg-green-50 shadow-sm":"border-gray-200 hover:border-green-300 bg-white"),children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex items-center justify-center gap-2 mb-2",children:[(0,t.jsx)(j.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:e.label})]}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-xs text-gray-600",children:e.description})]},e.hours))})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 space-y-4",children:[(0,t.jsx)("h3",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:"Therapist Arrangement"}),(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 space-y-3",children:es.map(e=>{let a=e.icon;return(0,t.jsx)("div",{onClick:()=>G(e.id),className:"jsx-8fd0aa955857bbe3 "+"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat($===e.id?"border-green-500 bg-green-50 shadow-sm":"border-gray-200 hover:border-green-300 bg-white"),children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 "+"p-2 rounded-lg ".concat($===e.id?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"),children:(0,t.jsx)(a,{className:"jsx-8fd0aa955857bbe3 w-5 h-5"})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex-1",children:[(0,t.jsx)("h4",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:e.label}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-sm text-gray-600",children:e.description}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-xs text-green-600 mt-1",children:e.details})]}),$===e.id&&(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 w-2 h-2 bg-white rounded-full"})})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,t.jsx)("h4",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900 mb-3",children:"Pricing Summary"}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between",children:[(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:["Base (",D," people)"]}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 font-medium text-gray-900",children:["R",er.baseTotal]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between",children:[(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:[B," hour session"]}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 font-medium text-gray-900",children:3===B?"+40%":"Standard"})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"shared"===$?"Shared therapists":"Individual therapists"}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 font-medium text-gray-900",children:"shared"===$?"-20%":"Full price"})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between pt-2 border-t border-gray-200",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Service & booking fees"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 font-medium text-gray-900",children:["R",er.serviceFee+er.bookingFee]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-base font-semibold pt-2 border-t border-gray-200",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-900",children:"Total"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 text-green-600",children:["R",er.total]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-xs pt-1",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-500",children:"Per person"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-500",children:["R",er.perPerson,"/person"]})]})]})]}),(0,t.jsxs)(c.$,{onClick:()=>{if(E&&D>=2){let e=ea.find(e=>e.id===E),a={id:"group-".concat(E,"-").concat(Date.now()),type:"group",groupType:E,participants:D,duration:B,total:er.total,name:(null==e?void 0:e.name)||"Group Session",description:"".concat(D," people • ").concat(B," hours • ").concat("shared"===$?"Shared therapists":"Individual therapists")};Q(e=>[...e,a]),F(!1),R(""),I(1),J(2),G("shared")}},className:"w-full bg-green-600 hover:bg-green-700 h-12 text-lg font-semibold text-white shadow-sm transition-all duration-200",children:["Add to Cart (",D,")"]})]})]})]})}),L&&(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 bg-white rounded-2xl w-full max-w-md border border-gray-200 shadow-xl",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:[(0,t.jsx)("h2",{className:"jsx-8fd0aa955857bbe3 text-xl font-bold text-center",children:"Finding Therapists"}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-green-100 text-sm text-center mt-1",children:"We're searching for available therapists in your area"})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 p-6",children:[(0,t.jsx)("div",{className:"jsx-8fd0aa955857bbe3 w-full bg-gray-200 rounded-full h-2 mb-6 overflow-hidden",children:(0,t.jsx)("div",{style:{animation:"loadingProgress 2s ease-in-out infinite"},className:"jsx-8fd0aa955857bbe3 bg-green-600 h-2 rounded-full animate-pulse"})}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 text-center mb-6",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 text-2xl font-bold text-green-600 mb-2",children:[_," / ",W]}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Therapists found for your group"}),(0,t.jsx)("p",{className:"jsx-8fd0aa955857bbe3 text-sm text-gray-500 mt-2",children:"shared"===$?"Therapists who can handle multiple clients":"Dedicated therapists for each person"})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 space-y-3 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Group Type:"}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:null===(e=ea.find(e=>e.id===E))||void 0===e?void 0:e.name})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Participants:"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:[D," people"]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Session Duration:"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:[B," hours"]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Therapist Arrangement:"}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:"shared"===$?"Shared":"Individual"})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Therapists Needed:"}),(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 font-semibold text-gray-900",children:W})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex justify-between text-sm pt-2 border-t border-gray-200",children:[(0,t.jsx)("span",{className:"jsx-8fd0aa955857bbe3 text-gray-600",children:"Total Cost:"}),(0,t.jsxs)("span",{className:"jsx-8fd0aa955857bbe3 font-bold text-green-600",children:["R",er.total]})]})]}),(0,t.jsxs)("div",{className:"jsx-8fd0aa955857bbe3 flex gap-3 mt-6",children:[(0,t.jsx)(c.$,{variant:"outline",onClick:()=>{O(!1),R(""),I(1),J(2),G("shared"),H(0),Y(0),q(!1)},className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)(c.$,{onClick:()=>{O(!1),setTimeout(()=>{var e;let a={type:E,participants:D,therapists:W,duration:B,sharing:$,total:er.total,perPerson:er.perPerson,groupName:(null===(e=ea.find(e=>e.id===E))||void 0===e?void 0:e.name)||"Group Session"};sessionStorage.setItem("groupBookingDetails",JSON.stringify(a)),s.push("/group-booking/confirmation")},3e3)},disabled:!Z,className:"flex-1 bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white font-semibold shadow-sm transition-all duration-200",children:"Confirm Booking"})]})]})]})}),(0,t.jsx)(i(),{id:"8fd0aa955857bbe3",children:"@-webkit-keyframes loadingProgress{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}50%{-webkit-transform:translatex(100%);transform:translatex(100%)}100%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}}@-moz-keyframes loadingProgress{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}50%{-moz-transform:translatex(100%);transform:translatex(100%)}100%{-moz-transform:translatex(-100%);transform:translatex(-100%)}}@-o-keyframes loadingProgress{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}50%{-o-transform:translatex(100%);transform:translatex(100%)}100%{-o-transform:translatex(-100%);transform:translatex(-100%)}}@keyframes loadingProgress{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}50%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}100%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}}"})]})}},3999:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(2596),r=s(9688);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},5018:(e,a,s)=>{Promise.resolve().then(s.bind(s,2900))},5526:(e,a,s)=>{"use strict";s.d(a,{BottomNav:()=>x});var t=s(5155),r=s(6874),i=s.n(r),n=s(5695),l=s(7340),d=s(7924),o=s(9074),c=s(1007);function x(){let e=(0,n.usePathname)(),a=[{icon:l.A,href:"/",label:"Home"},{icon:d.A,href:"/browse",label:"Search"},{icon:o.A,href:"/bookings",label:"Bookings"},{icon:c.A,href:"/profile",label:"Profile"}];return(0,t.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsx)("div",{className:"flex justify-around items-center p-3",children:a.map(a=>{let s=e===a.href;return(0,t.jsxs)(i(),{href:a.href,className:"flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ".concat(s?"text-primary":"text-muted-foreground"),children:[(0,t.jsx)(a.icon,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-xs",children:a.label})]},a.href)})})})}},6052:(e,a,s)=>{"use strict";s.d(a,{A:()=>l,AuthProvider:()=>n});var t=s(5155),r=s(2115);let i=(0,r.createContext)(void 0);function n(e){let{children:a}=e,[s,n]=(0,r.useState)(null),[l,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("dam-safe-user");e&&n(JSON.parse(e)),d(!1)},[]);let o=async(e,a)=>{await new Promise(e=>setTimeout(e,1e3));let s={id:"1",email:e,name:e.split("@")[0],userType:"client"};n(s),localStorage.setItem("dam-safe-user",JSON.stringify(s))},c=async(e,a,s,t)=>{await new Promise(e=>setTimeout(e,1e3));let r={id:"1",email:e,name:s,phone:t,userType:"client"};n(r),localStorage.setItem("dam-safe-user",JSON.stringify(r))};return(0,t.jsx)(i.Provider,{value:{user:s,isLoading:l,signIn:o,signUp:c,signOut:()=>{n(null),localStorage.removeItem("dam-safe-user")}},children:a})}function l(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7168:(e,a,s)=>{"use strict";s.d(a,{$:()=>d});var t=s(5155);s(2115);var r=s(9708),i=s(2085),n=s(3999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:a,variant:s,size:i,asChild:d=!1,...o}=e,c=d?r.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:a})),...o})}},8181:(e,a,s)=>{"use strict";s.d(a,{MobileHeader:()=>n});var t=s(5155),r=s(7550),i=s(7168);function n(e){let{title:a,showBack:s,onBack:n,rightAction:l}=e;return(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b-2 border-[#A2E5D8] bg-green-700  text-white shadow-md",children:(0,t.jsxs)("div",{className:"flex h-14 items-center justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:n,className:"h-9 w-9 text-white hover:bg-[#EDB64D] hover:text-[#1a2a3a]",children:(0,t.jsx)(r.A,{className:"h-5 w-5"})}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-white",children:a})]}),l&&(0,t.jsx)("div",{className:"text-white",children:l})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[160,906,274,925,441,684,358],()=>a(5018)),_N_E=e.O()}]);