(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4977:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(5155),s=n(2115),i=n(5695),a=n(6052),o=n(9114),u=n(8274);function l(e){let{onLoadingComplete:t,duration:n=3e3}=e,[i,a]=(0,s.useState)(!0),[l,c]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=setInterval(()=>{c(t=>t>=100?(clearInterval(e),100):t+1)},n/100),r=setTimeout(()=>{a(!1),setTimeout(()=>{null==t||t()},500)},n);return()=>{clearInterval(e),clearTimeout(r)}},[n,t]),(0,r.jsx)(o.N,{children:i&&(0,r.jsxs)(u.P.div,{className:"fixed inset-0 z-50 bg-[#F9FCFF]",initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,r.jsx)("img",{className:"w-40 h-40 object-contain",src:"/rubbgo2.png",alt:"Logo"}),(0,r.jsx)("h1",{className:"text-center text-4xl font-bold mb-1 text-green-700",children:"RubHubâ„¢"})]}),(0,r.jsx)("div",{className:"absolute bottom-20 left-0 right-0 px-8",children:(0,r.jsx)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"flex justify-center items-center",children:(0,r.jsxs)("div",{className:"relative w-16 h-16",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border-3 border-gray-200"}),(0,r.jsx)(u.P.div,{className:"absolute inset-0 rounded-full border-3 border-green-800 border-t-transparent",initial:{rotate:0},animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})]})})})]})})}function c(){let e=(0,i.useRouter)(),{user:t}=(0,a.A)(),[n,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{n||(t?e.push("/home"):e.push("/auth/signup"))},[t,n,e]),(0,s.useEffect)(()=>{(async()=>{await new Promise(e=>setTimeout(e,1e3))})()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l,{onLoadingComplete:()=>{o(!1)},duration:4e3}),!n&&(0,r.jsx)("main",{className:"min-h-screen bg-background"})]})}},5695:(e,t,n)=>{"use strict";var r=n(8999);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},5859:(e,t,n)=>{Promise.resolve().then(n.bind(n,4977))},6052:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,AuthProvider:()=>a});var r=n(5155),s=n(2115);let i=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[n,a]=(0,s.useState)(null),[o,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("dam-safe-user");e&&a(JSON.parse(e)),u(!1)},[]);let l=async(e,t)=>{await new Promise(e=>setTimeout(e,1e3));let n={id:"1",email:e,name:e.split("@")[0],userType:"client"};a(n),localStorage.setItem("dam-safe-user",JSON.stringify(n))},c=async(e,t,n,r)=>{await new Promise(e=>setTimeout(e,1e3));let s={id:"1",email:e,name:n,phone:r,userType:"client"};a(s),localStorage.setItem("dam-safe-user",JSON.stringify(s))};return(0,r.jsx)(i.Provider,{value:{user:n,isLoading:o,signIn:l,signUp:c,signOut:()=>{a(null),localStorage.removeItem("dam-safe-user")}},children:t})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9114:(e,t,n)=>{"use strict";n.d(t,{N:()=>P});var r=n(5155),s=n(2115),i=n(869),a=n(2885),o=n(7494),u=n(845),l=n(7351),c=n(1508);function f(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=(0,l.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:n,anchorX:i,root:a}=e,o=(0,s.useId)(),u=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=(0,s.useContext)(c.Q),m=function(...e){return s.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=f(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():f(e[t],null)}}}}(...e),e)}(u,null==t?void 0:t.ref);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:s,right:c}=l.current;if(n||!u.current||!e||!t)return;u.current.dataset.motionPopId=o;let f=document.createElement("style");h&&(f.nonce=h);let d=null!=a?a:document.head;return d.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===i?"left: ".concat(s):"right: ".concat(c),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{d.contains(f)&&d.removeChild(f)}},[n]),(0,r.jsx)(d,{isPresent:n,childRef:u,sizeRef:l,children:s.cloneElement(t,{ref:m})})}let m=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:f,anchorX:d,root:m}=e,x=(0,a.M)(p),g=(0,s.useId)(),v=!0,P=(0,s.useMemo)(()=>(v=!1,{id:g,initial:n,isPresent:i,custom:l,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[i,x,o]);return c&&v&&(P={...P}),(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[i]),s.useEffect(()=>{i||x.size||!o||o()},[i]),"popLayout"===f&&(t=(0,r.jsx)(h,{isPresent:i,anchorX:d,root:m,children:t})),(0,r.jsx)(u.t.Provider,{value:P,children:t})};function p(){return new Map}var x=n(2082);let g=e=>e.key||"";function v(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let P=e=>{let{children:t,custom:n,initial:u=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:f="sync",propagate:d=!1,anchorX:h="left",root:p}=e,[P,b]=(0,x.xQ)(d),y=(0,s.useMemo)(()=>v(t),[t]),j=d&&!P?[]:y.map(g),w=(0,s.useRef)(!0),E=(0,s.useRef)(y),N=(0,a.M)(()=>new Map),[S,C]=(0,s.useState)(y),[R,I]=(0,s.useState)(y);(0,o.E)(()=>{w.current=!1,E.current=y;for(let e=0;e<R.length;e++){let t=g(R[e]);j.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[R,j.length,j.join("-")]);let T=[];if(y!==S){let e=[...y];for(let t=0;t<R.length;t++){let n=R[t],r=g(n);j.includes(r)||(e.splice(t,0,n),T.push(n))}return"wait"===f&&T.length&&(e=T),I(v(e)),C(y),null}let{forceRender:k}=(0,s.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:R.map(e=>{let t=g(e),s=(!d||!!P)&&(y===R||j.includes(t));return(0,r.jsx)(m,{isPresent:s,initial:(!w.current||!!u)&&void 0,custom:n,presenceAffectsLayout:c,mode:f,root:p,onExitComplete:s?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==k||k(),I(E.current),d&&(null==b||b()),l&&l())},anchorX:h,children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[274,441,684,358],()=>t(5859)),_N_E=e.O()}]);